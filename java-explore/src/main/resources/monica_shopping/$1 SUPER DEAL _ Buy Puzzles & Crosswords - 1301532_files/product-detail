function productOnLoad(){var r=$("#header-icons-wrapper"),t,n,i;if($("#postalstate").val("0"),commonUtilityJS.IsMobileDevice()&&r.find(".search-icon").is(":visible")&&($(".search-content .search-input").toggle(),$(".search-content .search-submit").toggle()),$(".search-content .search-input").css("display")!="none"&&$(".search-content .search-input").val()!=""?$(".search-content #clearSearch").show():$(".search-content #clearSearch").hide(),$("#msg-options").css("visibility","hidden"),dealIsVariant=="True"&&(mainoptions.length>0&&$(mainoptions).val($("#product-attributes .variantOptions option:first").val()),quoteOptions.length>0&&$(quoteOptions).val($("#delivery-quote-form-wrapper .RFQvariantOptions option:first").val()),t=$(jsonVariantsArray).filter(function(n,t){return t.Selected}),t.length>0)){for(n=0;n<mainoptions.length;n++)n==0?i=t[0].Option1.OptionValue:n==1?i=t[0].Option2.OptionValue:n==2&&(i=t[0].Option3.OptionValue),$(mainoptions[n]).val(i),$(mainoptions[n]).selectmenu("instance")!=undefined&&$(mainoptions[n]).selectmenu("refresh");PriceStockUpdate(t[0])}}function validateAndAddToCart(n){var f,i;n=n!==undefined?n:!1;try{ga_add_to_cart()}catch(c){}var e=$("#btn-add-to-cart"),r=e.find("span.fa"),t="",u=!0;if($.each(mainoptions,function(){$(this).val()=="Choose.."&&(u=!1)}),!u){ShowErrorMessage("Please select an option that is available");return}if($("#postalstate").length>0&&$("#postalstate").val()=="0"){$("#postalstate option:selected").text()=="Select a State"&&(t="Please select a state");$("#postalstate option:selected").text()=="Select Area"&&(t="Please select an area");ShowErrorMessage(t);return}if($("#postcode").length>0&&suburbSelected==""){t="Please select a valid postcode or suburb from dropdown";ShowErrorMessage(t);return}if($("#postcode").length>0&&suburbSelected!=""&&$("#freightAmount").val()==""){t="Please select a valid postcode or suburb";ShowErrorMessage(t);return}ClearErrorMessage();f=$("#dealID").val();i="";dealIsVariant=="True"&&(i=$("#selectedOption").val());var o=$("#quantity-selector").val(),s=$("#postalstate").val(),h=suburbSelected;n&&(r=$("#btn-buy-now").find("span.fa"),r.addClass("fa-spin fa-circle-o-notch"),$("#btn-buy-now").attr("disabled","disabled"));addCartItem(f,o,i,s,h,n)}function addCartItem(n,t,i,r,u,f){var e,s,o;f=f!==undefined?f:!1;e={dealid:n};e.buyNow=f;e.qty=t&&t>0?t:1;i!=""&&(e.variantID=i);r&&(e.postalstate=r);u&&(e.postcode=u);s=$("#btn-add-to-cart");o=s.find("span.fa");f||o.removeClass("fa-shopping-cart").addClass("fa-spin fa-circle-o-notch");$("#btn-add-to-cart-mobile").attr("disabled","disabled");MVCCommonJS.GetJsonDataFromAPI(addtoCartUrl,"POST",JSON.stringify(e),function(){var t="desktop";commonUtilityJS.IsMobileDevice()&&(t="mobile");try{PushEngageTrack();mydealfb.AddToCart(n,$("#price").text())}catch(i){}f?($("#btn-add-to-cart").attr("disabled","disabled"),mydealga.SendEvent(t,"click","BuyNow"),document.getElementById("form-buynow").submit()):(mydealga.SendEvent(t,"click","AddToCart"),window.location="/cart");$("#btn-add-to-cart-mobile").removeAttr("disabled")},function(n){ShowErrorMessage(n);o.removeClass("fa-spin fa-circle-o-notch").addClass("fa-shopping-cart");o=$("#btn-buy-now").find("span.fa");o.removeClass("fa-spin fa-circle-o-notch");$("#btn-buy-now").removeAttr("disabled");$("#btn-add-to-cart-mobile").removeAttr("disabled")})}function PriceStockUpdate(n){var i,o,u;$("#selectedOption").val(n.VariantID);$("#price").html(n.SellPrice);var f=$("#rrpMinimumDiscount").val(),r=commonUtilityJS.ParseFloatIgnoreCommas(n.SellPrice),t=commonUtilityJS.ParseFloatIgnoreCommas(n.RRP),e=Math.round((t-r)*100/t);if(t>0&&t>=r?($("#rrp").html("RRP $"+t.toFixed(2)),e>=f?($("#btn-add-to-cart").attr("viewType")=="getaway"?(i="<span>You save<\/span> $"+(t-r).toFixed(2),e>=f&&(i=i+" <span>("+Math.round((t-r)*100/t)+"%)<\/span>")):(i="You save $"+(t-r).toFixed(2),e>=f&&(i=i+" ("+Math.round((t-r)*100/t)+"%)")),$("#savings").html(i)):$("#savings").html("")):($("#rrp").html(""),$("#savings").html("")),n.StockLevel<40&&n.PreSelling==!1?n.StockLevel<20?SetItemsLeft("Hurry! "+n.StockLevel+" item(s) left!"):SetItemsLeft("Limited Stock!"):$("#item-count-left-text").html(""),$(mainquantity).empty(),n.StockLevel>0)for(o=n.StockLevel>20?20:n.StockLevel,u=1;u<=o;u++)$(mainquantity).append(new Option(u,u));else $(mainquantity).append("<option>0<\/option>");$(mainquantity).removeProp("disabled");$(mainquantity).parent().removeClass("mobile-disabled");$(mainquantity).removeClass("variant-disabled-mobile");$(mainquantity).selectmenu("instance")!=undefined&&$(mainquantity).selectmenu("refresh");$("#priceFromMessage").html("");mdsf.trackPageView("item",mdsf.getProductCode($("#dealID").val(),n.VariantID,dealIsVariant))}function PostalStateChange(){var i=$("#hdn-postcode-dealid").val(),n=$("#postcode"),t;if(n.val().trim()=="")return n.focus(),ShowErrorMessage("Please enter a valid postcode or suburb"),!1;if(suburbSelected!="")$("#spLoading").fadeIn(900),t=$("#quoteForm"),$.ajax({url:$(t).attr("action"),type:"GET",data:{dealid:i,postcode:suburbSelected,qty:mainquantity.val()},success:function(t){+t!=-1?($("#freightAmount").val(Number(t).toFixed(2)),$("#isFreightSupportsQty").val()==="true"?$("#postcode-freight").html("$"+Number(t).toFixed(2)+" to "+suburbSelected.replace(";"," ")):$("#postcode-freight").html("$"+Number(t).toFixed(2)+" per unit to "+suburbSelected.replace(";"," ")),$("#spLoading").hide(),$("#quoteForm").hide(),$(".freighterror").hide(),$(".freightsuccess").show(),$(".resetcontainer").show(),n.blur()):($("#postcode-freight").html(""),$("#spLoading").hide(),$("#quoteForm").hide(),$(".freighterror").show(),$(".freightsuccess").hide(),$(".resetcontainer").show(),n.blur())}}),ClearErrorMessage();else return ShowErrorMessage("Please select a valid postcode or suburb from dropdown"),commonUtilityJS.IsMobileDevice()&&$("body").animate({scrollTop:$("#product-attributes-a2c-wrapper").offset().top},"slow"),$("#freightAmount").val(""),$("#spLoading").hide(),!1}function PostCodeChangeCallBack(n){n!=null?(suburbSelected=n.id,PostalStateChange()):suburbSelected=""}function RFQPostCodeChangeCallBack(n){n!=null?(suburbSelectedRFQ=n.id,$("#btn-request-quote").removeProp("disabled").removeClass("post-code-submit-disabled")):suburbSelectedRFQ=""}function PostCodeEmptyDataCallBack(){}function RFQPostCodeEmptyDataCallBack(){$("#btn-request-quote").prop("disabled","disabled").addClass("post-code-submit-disabled")}function PostReviewsValidate(n){return isNaN($("input[name='Rating']").val())||parseInt($("input[name='Rating']").val())<1?($("#review_js_summary").html("<ul><li>Please select a rating star<\/li><\/ul>"),n=n||window.event,n.preventDefault(),!1):($("#review_js_summary").html(""),!0)}function ShowErrorMessage(n){$("#errmsg").html(n);$("#msg-options").css("visibility","visible");$("#divmsgbox").fadeIn(900);commonUtilityJS.IsMobileDevice()&&($("#price").focus(),ScrollAnimation.scrollTo("#price"))}function ClearErrorMessage(){$("#errmsg").html("");$("#msg-options").css("visibility","hidden");$("#divmsgbox").fadeOut(900)}function ShowMessageFreightQuote(n){$("#freightQuoteMsg").html(n);$("#freightQuoteMsg").fadeIn(900)}function SetItemsLeft(n){$("#item-count-left-text").html("<i class='fa fa-clock-o'><\/i>&nbsp;"+n)}function setEnquiryLink(){var t=$("#quantity-selector").val(),n=$(this).attr("href"),i=n}function LoadRelatedItems(n,t){var i=$("#dealID").val(),r=$("#customerAffiliateStoreId").val(),u=$("#isMyAccountMyProducts").val(),f=$("#storeId").val(),e=$("#isSearchInMyStoreContext").val(),o=JSON.stringify({dealId:i,moreLikeThisTagId:moreLikeThisTagId,relatedTags:relatedTags,fromMywardrobe:n,fromMygetaways:t,customerAffiliateStoreId:r,isMyAccountMyProducts:u,storeId:f,isSearchInMyStoreContext:e});MVCCommonJS.GetJsonDataFromAPI("/api/productrecommendations/relateditems","POST",o,function(n){n.Status=="Success"?($("#relatedItems").html(n.Products),$("#relatedItems").show(),initialiseGeneralProductSwiper()):($("#relatedItems").html(""),$("#relatedItems").hide())})}function initialiseGeneralProductSwiper(){var n=6,t=$(".general-product-swiper.swiper-container .swiper-slide");($(".categories-page:not(.brand-landing-page)").length>0||$(".product-listing-page:not(.brand-listing,.search-page)").length>0)&&(n=4);generalProductSwiper=new Swiper(".general-product-swiper.swiper-container",{pagination:".general-product-swiper .swiper-pagination",nextButton:".swiper-button-next",prevButton:".swiper-button-prev",paginationClickable:!0,preloadImages:!0,loop:!1,slidesPerView:n,slidesPerGroup:n,slidesCustomWidth:!1,spaceBetween:14,speed:500,breakpoints:{1024:{slidesPerView:4,slidesPerGroup:4,spaceBetween:10},640:{slidesCustomWidth:!0,slidesPerView:1,slidesPerGroup:1,spaceBetween:10}}})}function addToMyStoreProductDetails(n,t,i,r){r==undefined&&(r=!1);$.ajax({url:"/home/addtomystore",type:"POST",data:{dealId:t,storeId:i},success:function(t){if(t.status=="success"){var i=$(n).closest(".mystore").find(".mystorespan");$(i).hasClass("linkedStore")?($(i).removeClass("linkedStore"),$(i).addClass("unlinkedStore"),r=="true"?$(n).prop("title","Add to MyStore"):$(n).text("Add to MyStore")):($(i).addClass("linkedStore"),$(i).removeClass("unlinkedStore"),r=="true"?$(n).prop("title","Remove from MyStore"):$(n).text("Remove from MyStore"))}else t.message!=undefined&&alert(t.message)}})}function setFocusOnElement(n,t){try{t==undefined&&(t=400);setTimeout(function(){$(n).offset()!=null&&$(n).offset()!=undefined&&$("html, body").animate({scrollTop:$(n).offset().top-t},500)},0)}catch(i){}}function updateAfterPaySection(){var t;if(isAfterpayEnabled=="True"){var i=parseFloat($("#price").html()),r=parseInt($("#quantity-selector").val()),n=i*r,u=parseFloat($("#afterpayMinAmount").val()),f=parseFloat($("#afterpayMaxAmount").val()),e=u<=n&&n<=f;e?(dealIsVariant=="False"||allOptionSelected?(t=n/4,$("#afterpayBreakdownMessage").html("4 interest-free instalments of $"+t.toFixed(2)+" with")):$("#afterpayBreakdownMessage").html("4 interest-free instalments available with"),$("#afterpaySection").show()):$("#afterpaySection").hide()}}function updateOpenPaySection(){if(isOpenpayEnabled=="True"){var t=parseFloat($("#price").html()),i=parseInt($("#quantity-selector").val()),n=t*i,r=parseFloat($("#openpayMinAmount").val()),u=parseFloat($("#openpayMaxAmount").val()),f=r<=n&&n<=u;f?$("#openpaySection").show():$("#openpaySection").hide()}}function LoadMoreReviews(n,t,i){var f;n.preventDefault();var r=$(t),e=r.data("url"),o=r.data("dealid"),s=r.data("sellerid"),h=r.data("skip"),u=r.data("rating"),c={dealId:o,sellerid:s,skip:h,rating:u};MVCCommonJS.GetJsonDataFromAPI(e,"POST",JSON.stringify(c),function(n){$("#pagination-wrapper-"+u).remove();$("#reviews-container-wrapper-"+u).append(n);$("#no-reviews-wrapper-"+u).removeClass("hide");$("ul#reviews-container-wrapper-"+u).children("li").length>=1&&$("#no-reviews-wrapper-"+u).addClass("hide")});i!="tab"&&(f='<img src="/content/themes/bliss/images/loading.png" class="loading-img fa fa-spin" />',r.hide(),r.parent().append(f))}var mainoptions=$("#product-attributes .variantOptions"),mainquantity=$(".qty-add-cart-wrapper .mydeal-custom-select"),allOptionSelected=!1,quoteOptions=$("#delivery-quote-form-wrapper .RFQvariantOptions"),RFQquantity=$(".RFQ-qty-wrapper .RFQ-qty"),suburbSelected,suburbSelectedRFQ;$(document).ready(function(){commonUtilityJS.IsMobileDevice()||$("#postalstate").selectmenu("refresh")});$("#btn-add-to-cart-mobile").on("click",function(n){$("#btn-add-to-cart").trigger("click");n.preventDefault()});$("#btn-buy-now-mobile").on("click",function(n){$("#btn-buy-now").trigger("click");n.preventDefault()});$("#btn-check-out").on("click",function(n){document.getElementById("frmbuynow").submit();n.preventDefault()});$("#btn-buy-now").on("click",function(n){validateAndAddToCart(!0);n.preventDefault()});$("#btn-add-to-cart").on("click",function(n){validateAndAddToCart();n.preventDefault()});$(".variantOptions").on("selectmenuchange change",function(n){var h=$(n.target),y=$(h).data("selecttype"),p=$(h).data("selectname"),v=$(h).data("index"),u,f,e,i,t,r,o,l,c,s,a;for($("#selectedOption").val(""),ClearErrorMessage(),u=mainoptions[0]!=undefined?$(mainoptions[0]).val():"",f=mainoptions[1]!=undefined?$(mainoptions[1]).val():"",e=mainoptions[2]!=undefined?$(mainoptions[2]).val():"",i=1;i<mainoptions.length+1;i++)v!=i&&(t=[],r=mainoptions[i-1],i==1?(o=$(jsonVariantsArray).filter(function(n,t){return(t.Option2==null||f=="Choose.."||t.Option2.OptionValue===f||t.Option2.OptionValue=="Choose..")&&(t.Option3==null||e=="Choose.."||t.Option3.OptionValue===e||t.Option3.OptionValue=="Choose..")}),$.each(o,function(n,i){var u,r,f;if(!i.Option1.Discontinued){for(u=-1,r=0;r<t.length;++r)if(t[r].value==i.Option1.OptionValue){u=r;break}u==-1?t.push({value:i.Option1.OptionValue,active:i.Option1.Active}):(f=t.find(function(n){return n.value==i.Option1.OptionValue}),!f.active&&i.Option1.Active&&(f.active=i.Option1.Active))}})):i==2?(o=$(jsonVariantsArray).filter(function(n,t){return(t.Option1==null||u=="Choose.."||t.Option1.OptionValue===u||t.Option1.OptionValue=="Choose..")&&(t.Option3==null||e=="Choose.."||t.Option3.OptionValue===e||t.Option3.OptionValue=="Choose..")}),$.each(o,function(n,i){var u,r,f;if(!i.Option2.Discontinued){for(u=-1,r=0;r<t.length;++r)if(t[r].value==i.Option2.OptionValue){u=r;break}u==-1?t.push({value:i.Option2.OptionValue,active:i.Option2.Active}):(f=t.find(function(n){return n.value==i.Option2.OptionValue}),!f.active&&i.Option2.Active&&(f.active=i.Option2.Active))}})):i==3&&(o=$(jsonVariantsArray).filter(function(n,t){return(t.Option1==null||u=="Choose.."||t.Option1.OptionValue===u||t.Option1.OptionValue=="Choose..")&&(t.Option2==null||f=="Choose.."||t.Option2.OptionValue===f||t.Option2.OptionValue=="Choose..")}),$.each(o,function(n,i){var u,r,f;if(!i.Option3.Discontinued){for(u=-1,r=0;r<t.length;++r)if(t[r].value==i.Option3.OptionValue){u=r;break}u==-1?t.push({value:i.Option3.OptionValue,active:i.Option3.Active}):(f=t.find(function(n){return n.value==i.Option3.OptionValue}),!f.active&&i.Option3.Active&&(f.active=i.Option3.Active))}})),l=$(r).val(),$(r).empty(),c=$("<option>"),c.val("Choose..").text("Choose.."),c.appendTo($(r)),$.each(t,function(n,t){var i;t.active?(i=$("<option>"),i.val(t.value).text(t.value),i.appendTo($(r))):(i=$("<option>"),i.val(t.value).text(t.value+" - Out of Stock").attr("disabled","disabled"),i.appendTo($(r)))}),$(r).val(l),n.type=="selectmenuchange"&&$(r).selectmenu("refresh"));u=="Choose.."||f=="Choose.."||e=="Choose.."?($(mainquantity).prop("selectedIndex",0),$(mainquantity).prop("disabled","disabled"),$(mainquantity).parent().addClass("mobile-disabled"),$(mainquantity).addClass("variant-disabled-mobile"),n.type=="selectmenuchange"&&$(mainquantity).selectmenu("refresh"),allOptionSelected=!1):(s=$(jsonVariantsArray).filter(function(n,t){return(t.Option1==null||t.Option1.OptionValue===u)&&(t.Option2==null||t.Option2.OptionValue===f)&&(t.Option3==null||t.Option3.OptionValue===e)}),s!=null&&s.length>0&&(a=s[0],PriceStockUpdate(a)),allOptionSelected=!0);updateAfterPaySection();updateOpenPaySection()});$(".RFQvariantOptions").on("selectmenuchange change",function(n){var h=$(n.target),y=$(h).data("selecttype"),p=$(h).data("selectname"),v=$(h).data("index"),u,f,e,i,t,r,o,l,c,s,a;for($("#hdnRFQSelectedOption").val(""),u=quoteOptions[0]!=undefined?$(quoteOptions[0]).val():"",f=quoteOptions[1]!=undefined?$(quoteOptions[1]).val():"",e=quoteOptions[2]!=undefined?$(quoteOptions[2]).val():"",i=1;i<quoteOptions.length+1;i++)v!=i&&(t=[],r=quoteOptions[i-1],i==1?(o=$(jsonVariantsArray).filter(function(n,t){return(t.Option2==null||f=="Choose.."||t.Option2.OptionValue===f||t.Option2.OptionValue=="Choose..")&&(t.Option3==null||e=="Choose.."||t.Option3.OptionValue===e||t.Option3.OptionValue=="Choose..")}),$.each(o,function(n,i){var u,r,f;if(!i.Option1.Discontinued){for(u=-1,r=0;r<t.length;++r)if(t[r].value==i.Option1.OptionValue){u=r;break}u==-1?t.push({value:i.Option1.OptionValue,active:i.Option1.Active}):(f=t.find(function(n){return n.value==i.Option1.OptionValue}),!f.active&&i.Option1.Active&&(f.active=i.Option1.Active))}})):i==2?(o=$(jsonVariantsArray).filter(function(n,t){return(t.Option1==null||u=="Choose.."||t.Option1.OptionValue===u||t.Option1.OptionValue=="Choose..")&&(t.Option3==null||e=="Choose.."||t.Option3.OptionValue===e||t.Option3.OptionValue=="Choose..")}),$.each(o,function(n,i){var u,r,f;if(!i.Option2.Discontinued){for(u=-1,r=0;r<t.length;++r)if(t[r].value==i.Option2.OptionValue){u=r;break}u==-1?t.push({value:i.Option2.OptionValue,active:i.Option2.Active}):(f=t.find(function(n){return n.value==i.Option2.OptionValue}),!f.active&&i.Option2.Active&&(f.active=i.Option2.Active))}})):i==3&&(o=$(jsonVariantsArray).filter(function(n,t){return(t.Option1==null||u=="Choose.."||t.Option1.OptionValue===u||t.Option1.OptionValue=="Choose..")&&(t.Option2==null||f=="Choose.."||t.Option2.OptionValue===f||t.Option2.OptionValue=="Choose..")}),$.each(o,function(n,i){var u,r,f;if(!i.Option3.Discontinued){for(u=-1,r=0;r<t.length;++r)if(t[r].value==i.Option3.OptionValue){u=r;break}u==-1?t.push({value:i.Option3.OptionValue,active:i.Option3.Active}):(f=t.find(function(n){return n.value==i.Option3.OptionValue}),!f.active&&i.Option3.Active&&(f.active=i.Option3.Active))}})),l=$(r).val(),$(r).empty(),c=$("<option>"),c.val("Choose..").text("Choose.."),c.appendTo($(r)),$.each(t,function(n,t){var i;t.active?(i=$("<option>"),i.val(t.value).text(t.value),i.appendTo($(r))):(i=$("<option>"),i.val(t.value).text(t.value+" - Out of Stock").attr("disabled","disabled"),i.appendTo($(r)))}),$(r).val(l),n.type=="selectmenuchange"&&$(r).selectmenu("refresh"));u=="Choose.."||f=="Choose.."||e=="Choose.."?$(RFQquantity).val(""):(s=$(jsonVariantsArray).filter(function(n,t){return(t.Option1==null||t.Option1.OptionValue===u)&&(t.Option2==null||t.Option2.OptionValue===f)&&(t.Option3==null||t.Option3.OptionValue===e)}),s!=null&&s.length>0&&(a=s[0],$("#hdnRFQSelectedOption").val(a.VariantID),ShowMessageFreightQuote("")))});$("#btn-request-quote").on("click",function(n){var r,t,u,f,e,i;if(n.preventDefault(),r=$(this),r.attr("disabled",!0),t="",$("#freightQuoteMsg").html(""),$("#freightQuoteMsg").hide(),u=!0,$.each(quoteOptions,function(){$(this).val()=="Choose.."&&(u=!1)}),u||(t="Please select an option that is available <br />"),$("#delivery-quote-qty").val().trim()==""&&(t+="Please enter Quantity <br />"),isNaN($("#delivery-quote-qty").val().trim())&&(t+="Please enter Quantity in numbers <br />"),parseInt($("#delivery-quote-qty").val().trim())<1&&(t+="Please enter Quantity greater than zero <br />"),($("#delivery-quote-postcode").val().trim()==""||suburbSelectedRFQ==null||suburbSelectedRFQ=="")&&(t+="Please select a valid postcode or suburb from dropdown <br />"),$("#delivery-quote-name").val().trim()==""?t+="Please enter Customer Name <br />":commonUtilityJS.IsEnglishChars($("#delivery-quote-name").val().trim())||(t+="Please enter use English only for Customer Name <br />"),$("#delivery-quote-email").val().trim()==""?t+="Please enter Email <br />":commonUtilityJS.IsValidEmail($("#delivery-quote-email").val().trim())?commonUtilityJS.IsEnglishChars($("#delivery-quote-email").val().trim())?(f=JSON.stringify({email:$("#delivery-quote-email").val().trim()}),MVCCommonJS.GetJsonDataFromAPI("/account/verifyemail","POST",f,function(n){n.status!="Success"&&(t+=n.message+" <br />")},null,null,!1)):t+="Please enter use English only for Email <br />":t+="Please enter a valid Email <br />",$("#delivery-quote-number").val().trim()==""&&(t+="Please enter Phone Number"),$("#delivery-quote-number").val().trim()==""||commonUtilityJS.IsvalidPhoneNo($("#delivery-quote-number").val().trim())||(t+="Please enter a valid Phone Number <br />"),t!=null&&t!=""){ShowMessageFreightQuote(t);r.attr("disabled",!1);r.html("Request Quote");return}dealIsVariant=="True"&&(e=$("#hdnRFQSelectedOption").val());i={};i.dealID=$("#dealID").val();i.postcode=suburbSelectedRFQ;i.email=$("#delivery-quote-email").val().trim();i.phone=$("#delivery-quote-number").val().trim();i.qty=$("#delivery-quote-qty").val();i.customerName=$("#delivery-quote-name").val();i.variantID=e;MVCCommonJS.GetJsonDataFromAPI(reqFreightQuoteUrl,"POST",JSON.stringify(i),function(n){n.success?($("#freightQuoteMsg").prop("style","color:green;"),$("#freightQuoteMsg").css({color:"green"}),$("#delivery-quote-form-div").slideUp(1200)):r.attr("disabled",!1);n.Msg!=null&&n.Msg!=""&&ShowMessageFreightQuote(n.Msg)},function(n){ShowMessageFreightQuote(n);r.attr("disabled",!1);r.html("request quote")},null,!1)});suburbSelected="";suburbSelectedRFQ="";$("#postalstate").on("selectmenuchange change",function(n,t){var i;i=n.type=="selectmenuchange"?t.item.index:$(this).prop("selectedIndex");i==0?(ShowErrorMessage("Please select an option that is available"),$("#shippingCost").html(""),$("#divShippingCost").css("visibility","hidden")):(ClearErrorMessage(),$("#shippingCost").html("$"+$("#postalstate").find(":selected").data("cost")),$("#postalstate").find(":selected").data("cost")!="0.00"&&$("#shippingCost").html("$"+$("#postalstate").find(":selected").data("cost")+" (per item)"),$("#divShippingCost").css("visibility","visible"))});$("#postcode").on("keyup",function(n){commonPostcode.AutoComplete("#"+n.target.id,$(this).val(),getPostalSuburbUrl,PostCodeChangeCallBack,PostCodeEmptyDataCallBack,n)});$("#postcode").on("paste",function(n){var t;window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):n.originalEvent.clipboardData&&n.originalEvent.clipboardData.getData&&(t=n.originalEvent.clipboardData.getData("text/plain"));commonPostcode.AutoComplete("#"+n.target.id,t,getPostalSuburbUrl,PostCodeChangeCallBack,PostCodeEmptyDataCallBack,n)});$("#delivery-quote-postcode").on("keyup",function(n){commonPostcode.AutoComplete("#"+n.target.id,$(this).val(),getPostalSuburbUrl,RFQPostCodeChangeCallBack,RFQPostCodeEmptyDataCallBack,n)});$("#delivery-quote-postcode").on("paste",function(n){var t;window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):n.originalEvent.clipboardData&&n.originalEvent.clipboardData.getData&&(t=n.originalEvent.clipboardData.getData("text/plain"));commonPostcode.AutoComplete("#"+n.target.id,t,getPostalSuburbUrl,RFQPostCodeChangeCallBack,RFQPostCodeEmptyDataCallBack,n)});$("#btn-reset-postcode").on("click",function(n){$("#quoteForm").show();$(".freightsuccess").hide();$(".freighterror").hide();$("#spLoading").hide();$(".resetcontainer").hide();$("#postcode").val("");$("#freightAmount").val("");suburbSelected="";n.preventDefault()});$("#restock-notify-btn").on("click",function(n){var t,i,r,u;n.preventDefault();t=$("#outofstock-notice-email").val();i=$("#dealID").val();commonUtilityJS.IsValidEmail(t)?(ClearErrorMessage(),r=$("#notifyDealBackInStockForm").attr("action"),u={notificationEmail:t,dealID:i},MVCCommonJS.GetJsonDataFromAPI(r,"POST",JSON.stringify(u),function(n){n.success?($("#restock-notify-mail-header").hide(),$("#outofstock-notice-email").hide(),$("#restock-notify-btn").hide(),$("#outofstock-notice-email-message").html("Thank you. We will notify once the deal is available.")):ShowErrorMessage(n.errorMessage)},function(){ShowErrorMessage("Server error occured. Please try again.")})):ShowErrorMessage("Please enter a valid email address")});$("#postcode").bind("keydown",function(n){if(n.which===13)if(suburbSelected!="")PostalStateChange();else return!1});$("#postCode").on("focus",function(){setFocusOnElement($("#Divshipping"),10)});$("#quantity-selector").on("selectmenuchange change",function(){if(suburbSelected!=""&&$("#isFreightSupportsQty").val()==="true")$("#quoteForm").show(),$(".freightsuccess").hide(),$(".freighterror").hide(),$("#spLoading").hide(),$(".resetcontainer").hide(),PostalStateChange();else return!1});$(document).ready(function(){var i,t,r,n;window.location.hash&&(i=window.location.hash.substring(1),i=="add-review-form-toggle-btn"&&($("#add-review-form-toggle-btn").click(),setTimeout(function(){$(window).scrollTop($(window).scrollTop()-100)},500)));t=$("#description-wrapper");t.length!==0&&(r=t[0].scrollHeight,r<232&&($(".toggle-description").remove(),$(".description-fade").remove()));$(".toggle-description").click(function(){var n=$(this).data("command");n==="show"?($(this).html("Show less"),$(this).data("command","hide"),$(".product-description").addClass("display-more"),$(".description-fade").addClass("display-more")):($(this).html("Read more"),$(this).data("command","show"),$(".product-description").removeClass("display-more"),$(".description-fade").removeClass("display-more"))});$("#postcode").data("autosuggest")=="on"&&(n=[],$("#postcode").autocomplete({source:n}));$("#delivery-quote-postcode").data("autosuggest")=="on"&&(n=[],$("#delivery-quote-postcode").autocomplete({source:n}))});$("#add-review-form-toggle-btn").on("click",function(n){n.preventDefault();$(this).toggleText("","Add Review").toggleClass("btn secondary fa fa-close").parent().toggleClass("review-form-visible");$(this).toggleClass("btn-more").toggleClass("secondary");$("#add-review-form-wrapper").toggle()});$("#lnkreviews").on("click",function(n){n.preventDefault();this.hash&&ScrollAnimation.scrollTo(this.hash)});$("a.productQuestion-link").on("click",function(){var n=$(this),i=n.data("url"),r=n.data("dealid"),t=i+"?dealID="+r;n.hasClass("invalidPostcode")&&(t=t+"&additions=InvalidPostcode");n.attr("href",t)});$(".backtolisting").on("click",function(n){n.preventDefault();window.history.back()});$(mainquantity).on("selectmenuchange change",function(){updateAfterPaySection();updateOpenPaySection()});$("body").on("click","#btnviewMore",function(n){LoadMoreReviews(n,$(this))});$(document).ready(function(){var n=$("#header-icons-wrapper");commonUtilityJS.IsMobileDevice()&&n.find(".search-icon").is(":visible")&&($(".search-content .search-input").toggle(),$(".search-content .search-submit").toggle());$(".search-content .search-input").css("display")!="none"&&$(".search-content .search-input").val()!=""?$(".search-content #clearSearch").show():$(".search-content #clearSearch").hide()});jQuery(function(){(function(n){"use strict";n.GLOB={}})(this);var n=$(".tabs-c"),t={utils:{tabs:function(){n.each(function(){$(this).children("div").each(function(){$(this).children().wrapInner('<div class="tabs-inner"><\/div>');$(this).children("*:not(:first-child)").addClass("hide")});$(this).children("ul").each(function(){$(this).children("li:first-child").addClass("active");$(this).find("a").on("click",function(n){return $(this).data("first")!=0&&($(this).data("first",0),LoadMoreReviews(n,$(this),"tab")),$(this).parents("ul").children("li").removeClass("active"),$(this).parent("li").addClass("active").parents("ul").next("div").children().addClass("hide").parent().children(":eq("+$(this).parent().index()+")").removeClass("hide"),!1})})})}}};t.utils.tabs()})