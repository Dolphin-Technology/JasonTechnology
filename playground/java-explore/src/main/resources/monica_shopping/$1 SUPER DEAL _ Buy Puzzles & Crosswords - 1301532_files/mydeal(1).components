!function(n){"use strict";n.fn.semanticPopup=function(){function u(){"pushState"in history?history.pushState("",document.title,window.location.pathname+window.location.search):window.location=window.location.href.replace(/#.*/,"")}var t=n("html"),i=n(this),r;return(n(this).attr("focusable",!1).attr("aria-hidden",!0).wrapInner('<div class="box-outer"><div class="box-inner"><div class="box-inset"><\/div><\/div><\/div>'),n(this).each(function(r){n(this).attr("aria-labelledby","popup-tab-"+(r+1)).attr("aria-describedby","popup-tab-"+(r+1)).attr("id",n(this).attr("data-title"));n('[data-popup="'+n(this).attr("data-title")+'"]').attr("id","popup-tab-"+(r+1)).attr("aria-controls",n(this).attr("data-title")).attr("aria-haspopup","true").attr("href","#"+n(this).attr("data-title"));n('<a class="close" href="./">Close<\/a>').appendTo(n(this).find(".box-outer,.box-inset"));n(this).find('.close, button[type="reset"]').on("click",function(){return i.removeClass("shown").attr("focusable",!1).attr("aria-hidden",!0),t.removeClass("popup-shown"),u(),!1}).prev().addClass("last-child")}),n("body").on("click","a[data-popup]",function(){n(this).is(".disabled")||(i.removeClass("shown").attr("focusable",!1).attr("aria-hidden",!0),n('[class^=popup][data-title="'+n(this).attr("data-popup")+'"]').addClass("shown").attr("focusable",!0).attr("aria-hidden",!1),t.addClass("popup-shown"))}).on("submit","form[data-popup]",function(){if(!n(this).is(".disabled"))return i.removeClass("shown").attr("focusable",!1).attr("aria-hidden",!0),n('[class^=popup][data-title="'+n(this).attr("data-popup")+'"]').addClass("shown").attr("focusable",!0).attr("aria-hidden",!1),t.addClass("popup-shown"),!1}),n(window).on("keydown",function(n){27===n.which&&(i.removeClass("shown").attr("focusable",!1).attr("aria-hidden",!0),t.removeClass("popup-shown"),u())}),document.location.hash.length)&&(r=decodeURIComponent(document.location.hash.substring(1)),n('[data-title="'+r+'"]').length&&(n('a[href="#'+r+'"]').click(),t.addClass("popup-shown"))),n(this)};n.openPopup=function(t){n('a[data-popup="'+t+'"]').length&&(n('[class^=popup][data-title="'+t+'"]').addClass("shown").attr("focusable",!0).attr("aria-hidden",!1),document.location.hash=t,n("html").addClass("popup-shown"))}}(jQuery);jQuery(function(){"use strict";var n=$("[class^=popup]"),t={utils:{popups:function(){n.semanticPopup()}}};t.utils.popups()})